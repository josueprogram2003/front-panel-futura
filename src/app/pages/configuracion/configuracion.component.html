<div class="card p-6 bg-white rounded-xl shadow-sm border border-slate-100 !w-full">
    <p-toast></p-toast>
    
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-slate-800 m-0">Configuración</h2>
        <p class="text-slate-500 mt-1">Ajusta los parámetros del sistema</p>
    </div>

    <p-tabView styleClass="w-full custom-tabs">
        <!-- Tab: Totem Fotográfico -->
        <p-tabPanel header="Totem Fotográfico" leftIcon="pi pi-camera">
            <div class="p-4 bg-slate-50 rounded-lg border border-slate-200 mt-4" [formGroup]="configForm">                
                <div class="flex items-center justify-between">
                    <div>
                        <label class="font-bold text-slate-700 block mb-1">Impresora Activa</label>
                        <p class="text-sm text-slate-500">Habilita o deshabilita la impresión de tickets</p>
                    </div>
                    <p-toggleswitch formControlName="isActiveImpresora"></p-toggleswitch>
                </div>
            </div>
        </p-tabPanel>

        <!-- Tab: Trivia -->
        <p-tabPanel header="Trivia" leftIcon="pi pi-question-circle">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full mt-4" [formGroup]="configForm">
                <div class="col-span-1 md:col-span-2">
                    <h3 class="text-lg font-bold text-slate-800 mb-4 pb-2 border-b border-slate-100">Personalización de Colores</h3>
                </div>

                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Color Texto Pregunta</label>
                    <div class="flex items-center gap-3">
                        <p-colorpicker [ngModel]="colors.text_color_pregunta" (ngModelChange)="updateColor('text_color_pregunta', $event)" [ngModelOptions]="{standalone: true}" [inline]="false"></p-colorpicker>
                        <input type="text" pInputText [ngModel]="colors.text_color_pregunta" (ngModelChange)="updateColor('text_color_pregunta', $event)" [ngModelOptions]="{standalone: true}" class="w-32" />
                    </div>
                </div>

                <!-- Color Alternativa -->
                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Color Texto Alternativa</label>
                    <div class="flex items-center gap-3">
                        <p-colorpicker [ngModel]="colors.text_color_alternativa" (ngModelChange)="updateColor('text_color_alternativa', $event)" [ngModelOptions]="{standalone: true}" [inline]="false"></p-colorpicker>
                        <input type="text" pInputText [ngModel]="colors.text_color_alternativa" (ngModelChange)="updateColor('text_color_alternativa', $event)" [ngModelOptions]="{standalone: true}" class="w-32" />
                    </div>
                </div>

                <!-- Color Botón Alternativa -->
                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Color Botón Alternativa</label>
                    <div class="flex items-center gap-3">
                        <p-colorpicker [ngModel]="colors.color_boton_alternativa" (ngModelChange)="updateColor('color_boton_alternativa', $event)" [ngModelOptions]="{standalone: true}" [inline]="false"></p-colorpicker>
                        <input type="text" pInputText [ngModel]="colors.color_boton_alternativa" (ngModelChange)="updateColor('color_boton_alternativa', $event)" [ngModelOptions]="{standalone: true}" class="w-32" />
                    </div>
                </div>

                <!-- Color Letra Alternativa -->
                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Color Letra Alternativa</label>
                    <div class="flex items-center gap-3">
                        <p-colorpicker [ngModel]="colors.color_letra_alternativa" (ngModelChange)="updateColor('color_letra_alternativa', $event)" [ngModelOptions]="{standalone: true}" [inline]="false"></p-colorpicker>
                        <input type="text" pInputText [ngModel]="colors.color_letra_alternativa" (ngModelChange)="updateColor('color_letra_alternativa', $event)" [ngModelOptions]="{standalone: true}" class="w-32" />
                    </div>
                </div>

                <!-- Color Numeración -->
                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Color Numeración</label>
                    <div class="flex items-center gap-3">
                        <p-colorpicker [ngModel]="colors.color_numeracion" (ngModelChange)="updateColor('color_numeracion', $event)" [ngModelOptions]="{standalone: true}" [inline]="false"></p-colorpicker>
                        <input type="text" pInputText [ngModel]="colors.color_numeracion" (ngModelChange)="updateColor('color_numeracion', $event)" [ngModelOptions]="{standalone: true}" class="w-32" />
                    </div>
                </div>
            </div>
        </p-tabPanel>
    </p-tabView>

    <div class="mt-8 flex justify-end gap-3 max-w-4xl border-t border-slate-100 pt-6">
        <p-button label="Cancelar" icon="pi pi-times" [text]="true" severity="secondary"></p-button>
        <p-button label="Guardar Cambios" icon="pi pi-check" styleClass="!bg-[#08215C] !border-[#08215C]" [rounded]="true" (onClick)="saveConfig()"></p-button>
    </div>
</div>
