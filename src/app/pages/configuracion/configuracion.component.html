<div class="card p-6 bg-white rounded-xl shadow-sm border border-slate-100 !w-full">
    <p-toast></p-toast>
    
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-slate-800 m-0">Configuración</h2>
        <p class="text-slate-500 mt-1">Ajusta los parámetros del sistema</p>
    </div>

    <p-tabView styleClass="w-full">
        <!-- Tab: Totem Fotográfico -->
        <p-tabPanel header="Totem Fotográfico" leftIcon="pi pi-camera">
            <div class="p-4 bg-slate-50 rounded-lg border border-slate-200 mt-4">
                <div class="flex items-center justify-between">
                    <div>
                        <label class="font-bold text-slate-700 block mb-1">Impresora Activa</label>
                        <p class="text-sm text-slate-500">Habilita o deshabilita la impresión de tickets</p>
                    </div>
                    <p-toggleswitch [(ngModel)]="config.isActiveImpresora"></p-toggleswitch>
                </div>
            </div>
        </p-tabPanel>

        <!-- Tab: Trivia -->
        <p-tabPanel header="Trivia" leftIcon="pi pi-question-circle">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full mt-4">
                <div class="col-span-1 md:col-span-2">
                    <h3 class="text-lg font-bold text-slate-800 mb-4 pb-2 border-b border-slate-100">Personalización de Colores</h3>
                </div>

                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Color Texto Pregunta</label>
                    <div class="flex items-center gap-3">
                        <p-colorpicker [(ngModel)]="config.text_color_pregunta" [inline]="false"></p-colorpicker>
                        <input type="text" pInputText [(ngModel)]="config.text_color_pregunta" class="w-32" />
                        <div [style.background]="config.text_color_pregunta" class="w-8 h-8 rounded border border-slate-300"></div>
                    </div>
                </div>

                <!-- Color Alternativa -->
                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Color Texto Alternativa</label>
                    <div class="flex items-center gap-3">
                        <p-colorpicker [(ngModel)]="config.text_color_alternativa" [inline]="false"></p-colorpicker>
                        <input type="text" pInputText [(ngModel)]="config.text_color_alternativa" class="w-32" />
                        <div [style.background]="config.text_color_alternativa" class="w-8 h-8 rounded border border-slate-300"></div>
                    </div>
                </div>

                <!-- Color Botón Alternativa -->
                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Color Botón Alternativa</label>
                    <div class="flex items-center gap-3">
                        <p-colorpicker [(ngModel)]="config.color_boton_alternativa" [inline]="false"></p-colorpicker>
                        <input type="text" pInputText [(ngModel)]="config.color_boton_alternativa" class="w-32" />
                        <div [style.background]="config.color_boton_alternativa" class="w-8 h-8 rounded border border-slate-300"></div>
                    </div>
                </div>

                <!-- Color Letra Alternativa -->
                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Color Letra Alternativa</label>
                    <div class="flex items-center gap-3">
                        <p-colorpicker [(ngModel)]="config.color_letra_alternativa" [inline]="false"></p-colorpicker>
                        <input type="text" pInputText [(ngModel)]="config.color_letra_alternativa" class="w-32" />
                        <div [style.background]="config.color_letra_alternativa" class="w-8 h-8 rounded border border-slate-300"></div>
                    </div>
                </div>

                <!-- Reglas del Juego -->
                <div class="col-span-1 md:col-span-2 mt-4">
                    <h3 class="text-lg font-bold text-slate-800 mb-4 pb-2 border-b border-slate-100">Reglas del Juego</h3>
                </div>

                <!-- Preguntas por Ronda -->
                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Preguntas por Ronda</label>
                    <p-inputnumber 
                        [(ngModel)]="config.preguntas_por_ronda" 
                        [showButtons]="true" 
                        buttonLayout="horizontal" 
                        inputId="horizontal" 
                        spinnerMode="horizontal" 
                        [step]="1" 
                        [min]="1" 
                        [max]="20"
                        decrementButtonClass="p-button-secondary" 
                        incrementButtonClass="p-button-secondary" 
                        incrementButtonIcon="pi pi-plus" 
                        decrementButtonIcon="pi pi-minus">
                    </p-inputnumber>
                </div>

                <!-- Preguntas para Ganar -->
                <div class="field">
                    <label class="font-semibold block mb-2 text-slate-700">Preguntas para Ganar</label>
                    <p-inputnumber 
                        [(ngModel)]="config.preguntas_para_ganar" 
                        [showButtons]="true" 
                        buttonLayout="horizontal" 
                        inputId="horizontal" 
                        spinnerMode="horizontal" 
                        [step]="1" 
                        [min]="1" 
                        [max]="config.preguntas_por_ronda"
                        decrementButtonClass="p-button-secondary" 
                        incrementButtonClass="p-button-secondary" 
                        incrementButtonIcon="pi pi-plus" 
                        decrementButtonIcon="pi pi-minus">
                    </p-inputnumber>
                </div>
            </div>
        </p-tabPanel>
    </p-tabView>

    <div class="mt-8 flex justify-end gap-3 max-w-4xl border-t border-slate-100 pt-6">
        <p-button label="Cancelar" icon="pi pi-times" [text]="true" severity="secondary"></p-button>
        <p-button label="Guardar Cambios" icon="pi pi-check" (onClick)="saveConfig()"></p-button>
    </div>
</div>
